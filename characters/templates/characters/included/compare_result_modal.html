<style>
#compareResultModal .search{
  display: none;
}
.result-container {
  margin: 20px 80px;
}
</style>
<div class="bd-compareResult">
  <div class="modal fade" id="compareResultModal" tabindex="-1" role="dialog" aria-labelledby="compareResultModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">

          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="row">
          <div class="col-md-3 ">
            <div class="h4 modal-title" style="display: inline" id="compareResultModalLabel">对比结果</div><strong id='result_char' style='font-size:36px; margin:0px;padding:8px;color:#483D8B;'>？</strong>
          <div class="col-md-5">

          </div>
          </div>
        </div>
        <div class="modal-body">
          <div class="result-container">
            <table id="resultArea" class="table table-bordered table-striped">
              <thead>
              <tr>
                  <th>No</th>
                  <th>字<br>形</th>
                  <th>字<br>图</th>
                  <th>原相<br>似度</th>
                  <th>新相<br>似度</th>
                  <th>对<br>比</th>
              </tr>
              </thead>
              <tbody >

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/static/js/jquery-2.2.4.min.js"></script>
<script src="/static/StackedAreaChart/js/d3.min.js"></script>

<script>


function markActive(){
  $(".grade-btn").removeClass("active");
  var btn;
  if (chunk == 50) {
    btn = $("#l-btn")
  } else if (chunk == 20) {
    btn = $("#m-btn")
  } else if (chunk == 5) {
    btn = $("#h-btn")
  }
  btn.addClass('active');
}
$(function(){

  $('#compareResultModal').on('show.bs.modal', function (event) {
    var modal = $(this);
    modal.find('#result_char').text(charListContainer.char);
    $('#resultArea').DataTable().ajax.url('/characters/last_task_result?char='+charListContainer.char).load();
  });

  $("#resultArea").DataTable({
      "pagingType": "input",
        "info":     false,
        "borderClasses": false,
        "bSortClasses": false,
        "bProcessing": true,
        "bDeferRender": true,
        "bProcessing": true,
        "bDeferRender": true,


        // Rows and column headers stored in a "data" object:
        "aaData": [],
        "columns": [
            { "data": "id" },
            { "data": "char" },
            { "data": "url",
              mRender: function (data, type, full) {
               return '<img src="'+ data +'" style="zoom: 20%;border:1px dashed blue">';
              }
            },
            { "data": "origin_accuracy" },
            { "data": "new_accuracy" },
            { "data": "difference" }
        ],
        ajax: {
            url: '/characters/last_task_result?char=n',
            dataSrc: function ( json ) {
            for ( var i=0, ien=json.data.length ; i<ien ; i++ ) {
              json.data[i].url = json.data[i].url;
            }
            return json.data;
          }
        },
        language: {
            search:         "",
            lengthMenu:    " _MENU_ 结果/页",
            loadingRecords: "载入数据中...",
            paginate: {
                first:      "<span class='fa fa-step-backward'></span>",
                previous:   "❮",
                next:       "❯",
                last:       "<span class='fa fa-step-forward'></span>"
            }
        }
    });
});


</script>